tags:
  - Userdata
summary: Mendapatkan User Profile berdasarkan Header Authorization
description: |
  Mengambil profil user berdasarkan authorization token.
  Mendukung Bearer token untuk portal users.
security:
  - bearerAuth: []
responses:
  200:
    description: User profile berhasil diambil
    content:
      application/json:
        schema:
          type: object
          properties:
            message:
              type: string
              example: "Berhasil mendapatkan profil user"
            data:
              type: object
              properties:
                id:
                  type: string
                  format: uuid
                  example: "123e4567-e89b-12d3-a456-426614174000"
                username:
                  type: string
                  example: "user@combiphar.co.id"
                name:
                  type: string
                  example: "John Doe"
                role_id:
                  type: string
                  format: uuid
                  example: "456e4567-e89b-12d3-a456-426614174001"
                is_portal:
                  type: boolean
                  example: true
                is_protected:
                  type: boolean
                  example: false
                created_at:
                  type: string
                  format: date-time
                  nullable: true
                  example: "2024-01-01T00:00:00Z"
                updated_at:
                  type: string
                  format: date-time
                  nullable: true
                  example: "2024-01-15T10:30:00Z"
        examples:
          portal_user:
            summary: Portal User Profile
            value:
              message: "Berhasil mendapatkan profil user"
              data:
                id: "123e4567-e89b-12d3-a456-426614174000"
                username: "username"
                name: "John Doe"
                role_id: "456e4567-e89b-12d3-a456-426614174001"
                is_portal: true
                is_protected: false
                created_at: "2024-01-01T00:00:00Z"
                updated_at: "2024-01-15T10:30:00Z"
          local_user:
            summary: Local User Profile
            value:
              message: "Berhasil mendapatkan profil user"
              data:
                id: "456e4567-e89b-12d3-a456-426614174000"
                username: "username"
                name: "Jane Doe"
                role_id: "789e4567-e89b-12d3-a456-426614174002"
                is_portal: false
                is_protected: false
                created_at: "2024-01-01T00:00:00Z"
                updated_at: "2024-01-15T10:30:00Z"
  404:
    description: User tidak ditemukan
    content:
      application/json:
        schema:
          type: object
          properties:
            message:
              type: string
              example: "User tidak ditemukan"
  500:
    description: Server error
    content:
      application/json:
        schema:
          type: object
          properties:
            message:
              type: string
              example: "Gagal mendapatkan profil user"
