tags:
  - Role Settings
summary: Membuat atau mengubah nilai role setting satu atau lebih
description: |
  Membuat role setting baru atau mengubah nilainya untuk satu role atau lebih. Hanya dapat diakses oleh admin.
  - Setiap data akan dicek dan divalidasi setiap valuenya
security:
  - bearerAuth: []
requestBody:
  required: true
  content:
    application/json:
      schema:
        type: array
        items:
          type: object
          required:
            - setting_id
            - role_id
            - value
          properties:
            setting_id:
              type: string
              format: uuid
              example: "3f9b2c1d-4e5f-6789-abcd-ef0123456789"
            role_id:
              type: string
              format: uuid
              example: "3f9b2c1d-4e5f-6789-abcd-ef0123456789"
            value:
              oneOf:
                - type: string
                - type: integer
                - type: boolean
                - type: array
                - type: object
              example: true
      examples:
        array_of_objects:
          value:
            - setting_id: "3f9b2c1d-4e5f-6789-abcd-ef0123456789"
              role_id: "7a1b2c3d-4e5f-6789-abcd-ef0123456789"
              value: true
            - setting_id: "11111111-2222-3333-4444-555555555555"
              role_id: "66666666-7777-8888-9999-000000000000"
              value: "some value"
responses:
  201:
    description: Role setting berhasil dibuat
    content:
      application/json:
        schema:
          type: object
          properties:
            message:
              type: string
              example: Roles settings berhasil dibuat
  400:
    description: Invalid Request / Invalid Value
    content:
      application/json:
        schema:
          type: object
          properties:
            error:
              type: string
        examples:
          empty_setting_id_role_id_value:
            value:
              error: "Role, Feature, Value diperukan"
          not_valid_value:
            value:
              error: "Nilai Chat topic expired days yang diinputkan tidak valid"
          request_is_not_array_object:
            value:
              error: "Request body harus berupa array of object"

  401:
    description: Tidak terautentikasi / token tidak valid
    content:
      application/json:
        schema:
          type: object
          properties:
            error:
              type: string
              example: Unauthorized
  403:
    description: Tidak memiliki akses admin
    content:
      application/json:
        schema:
          type: object
          properties:
            message:
              type: string
              example: Access tidak diizinkan
  404:
    description: Role atau Setting tidak ditemukan
    content:
      application/json:
        schema:
          type: object
          properties:
            error:
              type: string
        examples:
          one_or_many_setting_not_found:
            value:
              error: Terdapat setting yang tidak ditemukan
          one_or_many_role_not_found:
            value:
              error: Terdapat role yang tidak ditemukan
  500:
    description: Gagal membuat role setting
    content:
      application/json:
        schema:
          type: object
          properties:
            error:
              type: string
              example: Gagal membuat role setting
