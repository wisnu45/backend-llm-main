tags:
  - Documents
summary: Ambil semua dokumen
description: Mengambil seluruh data dokumen yang tersedia dengan struktur database baru.
security:
  - bearerAuth: []
parameters:
  - in: query
    name: page
    schema:
      type: integer
      default: 1
      minimum: 1
    description: Halaman data yang diambil (default 1)
  - in: query
    name: page_size
    schema:
      type: integer
      default: 10
      minimum: 1
    description: Jumlah data per halaman (default 10)
  - in: query
    name: search
    schema:
      type: string
    description: Pencarian dokumen berdasarkan nama dokumen (opsional)
  - in: query
    name: source_type
    schema:
      type: string
      enum: [all, portal, admin, user, website]
      default: all
    description: Tipe sumber dokumen (all, portal, admin, user, website)
responses:
  200:
    description: Berhasil mengambil data dokumen
    content:
      application/json:
        schema:
          type: object
          properties:
            message:
              type: string
            data:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  source_type:
                    type: string
                    enum: [portal, admin, user, website]
                  original_filename:
                    type: string
                  stored_filename:
                    type: string
                  mime_type:
                    type: string
                  size_bytes:
                    type: integer
                  metadata:
                    description: Metadata tersimpan (JSONB)
                    oneOf:
                      - type: object
                      - type: string
                  storage_path:
                    type: string
                  created_at:
                    type: string
                    format: date-time
                  updated_at:
                    type: string
                    format: date-time
                    nullable: true
                  uploaded_by_name:
                    type: string
                    nullable: true
                  document_url:
                    type: string
                    nullable: true
            pagination:
              type: object
              properties:
                page:
                  type: integer
                page_size:
                  type: integer
                total:
                  type: integer
                total_pages:
                  type: integer
        examples:
          success:
            value:
              message: "Berhasil mengambil data dokumen"
              data:
                - id: "a3b2f9b4-5c6d-4e8a-9f12-3456789abcde"
                  source_type: "admin"
                  original_filename: "Benefit.pdf"
                  stored_filename: "550e8400-e29b-41d4-a716-446655440000.pdf"
                  mime_type: "application/pdf"
                  size_bytes: 1048576
                  metadata: {"category": "HR", "language": "id"}
                  storage_path: "data/documents/admin/550e8400-e29b-41d4-a716-446655440000.pdf"
                  created_at: "2025-01-01T00:00:00Z"
                  updated_at: "2025-01-01T00:00:00Z"
                  uploaded_by_name: "Admin User"
                  document_url: "https://api.example.com/storage/550e8400-e29b-41d4-a716-446655440000.pdf"
              pagination:
                page: 1
                page_size: 10
                total: 1
                total_pages: 1
  400:
    description: Permintaan tidak valid
    content:
      application/json:
        schema:
          type: object
          properties:
            message:
              type: string
        examples:
          error:
            value:
              message: "Permintaan tidak valid"
  401:
    description: Unauthorized
    content:
      application/json:
        schema:
          type: object
          properties:
            message:
              type: string
        examples:
          error:
            value:
              message: "Unauthorized"
